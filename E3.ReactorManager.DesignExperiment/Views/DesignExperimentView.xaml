<UserControl x:Class="E3.ReactorManager.DesignExperiment.Views.DesignExperimentView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:E3.ReactorManager.DesignExperiment.Views"
             xmlns:prism="http://prismlibrary.com/"
             prism:ViewModelLocator.AutoWireViewModel="True"
             xmlns:converters="clr-namespace:E3.ReactorManager.DesignExperiment.Converters"
             xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
             xmlns:AnimationUserControls="clr-namespace:E3.ReactorManager.Interfaces.UI.UserControls;assembly=E3.ReactorManager.Interfaces"
             mc:Ignorable="d" 
             d:DesignHeight="1080" d:DesignWidth="1920">
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="Loaded">
            <i:InvokeCommandAction Command="{Binding GetAvailableFieldDevicesCommand}"/>
            <i:InvokeCommandAction Command="{Binding LoadUserDetailsCommand}"/>
        </i:EventTrigger>
    </i:Interaction.Triggers>
    <UserControl.Resources>
        <converters:FontSizeConverter x:Key="FontSizeConverter"/>
        <Style TargetType="ComboBox">
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="FontSize" Value="{Binding RelativeSource={RelativeSource Self}, Path=ActualHeight, Converter={StaticResource FontSizeConverter}}"/>
        </Style>
        <Style x:Key="UserInputTextBoxStyle" TargetType="TextBox">
            <Setter Property="Margin" Value="10"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Background" Value="#1a202c"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="5"/>
            <Setter Property="FontSize" Value="{Binding RelativeSource={RelativeSource Self}, Path=ActualHeight, Converter={StaticResource FontSizeConverter}}"/>
        </Style>
        <Style TargetType="RadioButton" x:Key="RadioButtonWithoutEllipse">
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type RadioButton}">
                        <Grid x:Name="templateRoot" Background="Transparent" SnapsToDevicePixels="True">
                            <Border x:Name="radioButtonBorder" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                                <Grid x:Name="optionMark">
                                    <Label Margin="5" Content="{TemplateBinding Content}" Foreground="White" VerticalContentAlignment="Center" HorizontalContentAlignment="Center">
                                        <Label.Style>
                                            <Style TargetType="Label">
                                                <Setter Property="FontSize" Value="{Binding RelativeSource={RelativeSource Self}, Path=ActualHeight, Converter={StaticResource FontSizeConverter}}"/>
                                            </Style>
                                        </Label.Style>
                                    </Label>
                                </Grid>
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="HasContent" Value="True">
                                <Setter Property="FocusVisualStyle">
                                    <Setter.Value>
                                        <Style>
                                            <Setter Property="Control.Template">
                                                <Setter.Value>
                                                    <ControlTemplate>
                                                        <Rectangle SnapsToDevicePixels="True" Stroke="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" StrokeThickness="1" StrokeDashArray="1 2"/>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="BorderBrush" TargetName="radioButtonBorder" Value="#32ccdf"/>
                                <Setter Property="BorderThickness" TargetName="radioButtonBorder" Value="1"/>
                                <Setter Property="Background" TargetName="optionMark" Value="#2F525E"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Background" TargetName="radioButtonBorder" Value="Gray"/>
                                <Setter Property="BorderBrush" TargetName="radioButtonBorder" Value="Gray"/>
                                <Setter Property="Background" TargetName="optionMark" Value="Gray"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="BorderBrush" TargetName="radioButtonBorder" Value="#32ccdf"/>
                                <Setter Property="BorderThickness" TargetName="radioButtonBorder" Value="1"/>
                                <Setter Property="Background" TargetName="optionMark" Value="#2F525E"/>
                            </Trigger>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter Property="Opacity" TargetName="optionMark" Value="1"/>
                                <Setter Property="BorderBrush" TargetName="radioButtonBorder" Value="#32ccdf"/>
                                <Setter Property="BorderThickness" TargetName="radioButtonBorder" Value="1"/>
                                <Setter Property="Background" TargetName="optionMark" Value="#2F525E"/>
                                <Setter Property="Background" TargetName="templateRoot" Value="#2F525E"/>
                            </Trigger>
                            <Trigger Property="IsChecked" Value="False">
                                <Setter Property="BorderThickness" TargetName="radioButtonBorder" Value="0"/>
                                <Setter Property="Background" TargetName="optionMark" Value="#1a202c"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>     
        </Style>
        <Style x:Key="CommandButtonStyle" TargetType="{x:Type Button}">
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Background" Value="#32d5d4"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Padding" Value="5"/>
            <Setter Property="Margin" Value="3"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border x:Name="border" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" SnapsToDevicePixels="true">
                            <ContentPresenter x:Name="contentPresenter" Focusable="False" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter Property="TextElement.Foreground" TargetName="contentPresenter" Value="Red"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="TextElement.Foreground" TargetName="contentPresenter" Value="Gray"/>
                                <Setter Property="Background" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="HeaderLabelStyle" TargetType="Label">
            <Setter Property="Foreground" Value="#FF8E94A1"/>
            <Setter Property="Margin" Value="3"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
        </Style>
        <Style x:Key="ContentLabelStyle" TargetType="Label">
            <Setter Property="Foreground" Value="#FF8E94A1"/>
        </Style>
        <Style x:Key="SelectionComboBoxStyle" TargetType="ComboBox">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="SelectedValuePath" Value="Name"/>
            <Setter Property="MinWidth" Value="200"/>
            <Setter Property="MinHeight" Value="40"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="VerticalAlignment" Value="Top"/>
        </Style>
    </UserControl.Resources>
    <Grid Background="#272e3e">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="0.2*"/>
            <ColumnDefinition Width="9*"/>
        </Grid.ColumnDefinitions>
        <Grid Grid.Column="0" Background="#272e3e" VerticalAlignment="Top">
            <Viewbox HorizontalAlignment="Left" VerticalAlignment="Top">
                <AnimationUserControls:NavigateButtonType_1 Margin="2" ButtonCommand="{Binding NavigateCommand}" ButtonCommandParameter="Dashboard"/>
            </Viewbox>
        </Grid>
        <Grid Grid.Column="1" Background="#1d2532">
            <Grid.RowDefinitions>
                <RowDefinition Height="1*"/>
                <RowDefinition Height="15*"/>
            </Grid.RowDefinitions>
            <Viewbox Grid.Row="0" HorizontalAlignment="Left">
                <Label Content="Design Experiment" Foreground="White"/>
            </Viewbox>
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="1*"/>
                    <ColumnDefinition Width="5*"/>
                    <ColumnDefinition Width="0.5*"/>
                    <ColumnDefinition Width="4*"/>
                    <ColumnDefinition Width="1*"/>
                </Grid.ColumnDefinitions>
                <Grid Grid.Column="1">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="2*"/> 
                        <RowDefinition Height="1*"/>
                    </Grid.RowDefinitions>
                    <Grid Grid.Row="0" Background="#272e3e" Margin="15">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="0.5*"/>
                            <RowDefinition Height="1*"/>
                            <RowDefinition Height="1*"/>
                            <RowDefinition Height="1*"/>
                            <RowDefinition Height="1*"/>
                        </Grid.RowDefinitions>
                        <Border Grid.Row="0">
                            <Border.Style>
                                <Style TargetType="Border">
                                    <Setter Property="BorderBrush" Value="#1a202c"/>
                                    <Setter Property="BorderThickness" Value="0,0,0,5"/>
                                    <Setter Property="Effect">
                                        <Setter.Value>
                                            <BlurEffect Radius="7.5"/>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Border.Style>
                        </Border>
                        <Viewbox Grid.Row="0" HorizontalAlignment="Left">
                            <Grid Margin="10,0,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <Path Grid.Column="0" Width="20" Height="20" Stretch="Fill" Fill="#32ccdf" Data="M-376.4,265.2c0,2.2,1.8,4.1,4.1,4.1s4.1-1.8,4.1-4.1s-1.8-4.1-4.1-4.1S-376.4,263-376.4,265.2z M-374.8,265.2   c0-1.3,1.1-2.4,2.4-2.4s2.4,1.1,2.4,2.4c0,1.3-1.1,2.4-2.4,2.4S-374.8,266.6-374.8,265.2z M-362.9,263.3c-0.6-0.2-1.3-0.5-1.9-0.7l-0.2-0.1c0-0.1-0.1-0.1-0.1-0.2l0-0.1c0-0.1,0-0.1-0.1-0.2l0.2-0.4   c0.2-0.5,0.4-1,0.6-1.4l0-0.1l0,0c0.4-0.7,0-1.2-0.2-1.4c-0.1-0.1-0.3-0.2-0.4-0.4l-0.2-0.2c-0.2-0.2-0.4-0.4-0.7-0.7   c-0.2-0.2-0.5-0.3-0.8-0.3h0l-0.2,0l-0.2,0.1c-0.7,0.3-1.3,0.5-2,0.9c0,0-0.1,0-0.1,0.1c-0.1,0-0.3-0.1-0.5-0.2c0,0,0,0,0-0.1   c-0.1-0.3-0.3-0.6-0.4-1l0-0.1c-0.2-0.4-0.3-0.9-0.5-1.3c-0.2-0.4-0.6-0.6-1-0.6c-0.7,0-1.3,0-1.8,0c-0.4,0-0.8,0.3-1,0.7   c-0.1,0.2-0.3,0.7-0.5,1.2c-0.2,0.4-0.3,0.9-0.4,1.1c-0.1,0.1-0.3,0.1-0.5,0.2c-0.4-0.2-0.8-0.3-1.2-0.5l-0.8-0.3   c-0.5-0.2-1-0.1-1.3,0.3c-0.3,0.3-0.6,0.6-1,0.9l-0.2,0.2c-0.4,0.3-0.5,0.8-0.3,1.3l0.2,0.4c0.2,0.5,0.5,1.1,0.7,1.6   c0,0.1-0.1,0.3-0.2,0.5c-0.4,0.2-0.9,0.4-1.3,0.5l-0.4,0.2c-0.7,0.3-1,0.7-1,1.5l0,0.4c0,0.3,0,0.6,0,0.9c0,0.6,0.3,1,0.8,1.2   l0.5,0.2c0.4,0.2,0.9,0.3,1.3,0.5c0.1,0,0.1,0,0.1,0c0,0.1,0.1,0.2,0.1,0.3l0,0c0,0.1,0.1,0.2,0.1,0.2l-0.2,0.5   c-0.2,0.5-0.4,1-0.6,1.5c-0.1,0.3-0.1,0.9,0.2,1.2c0.4,0.4,0.8,0.8,1.3,1.3c0.2,0.2,0.5,0.3,0.8,0.3h0l0.1,0c0.2,0,0.4-0.1,0.5-0.2   l0.7-0.3c0.4-0.2,0.8-0.3,1.1-0.5c0.1,0,0.3,0.1,0.4,0.2c0.1,0,0.1,0,0.1,0.1c0.1,0.2,0.2,0.4,0.3,0.7c0.2,0.5,0.4,1,0.6,1.4   c0.2,0.4,0.6,0.6,1,0.6c0.3,0,0.6,0,0.9,0c0.3,0,0.6,0,0.9,0c0.4,0,0.8-0.3,1-0.6c0.2-0.3,0.4-1,0.5-1c0.1-0.3,0.3-0.9,0.4-1.2   c0.2-0.1,0.4-0.2,0.5-0.2l0.4,0.2c0.3,0.1,0.6,0.2,0.9,0.4c0.2,0.1,0.3,0.1,0.5,0.2l0.7,0.3l0.3-0.2c0.1,0,0.3-0.1,0.4-0.3   c0.1-0.1,0.3-0.3,0.4-0.4c0.2-0.2,0.4-0.4,0.6-0.6c0.2-0.1,0.7-0.7,0.4-1.5c-0.1-0.2-0.2-0.4-0.3-0.6l-0.1-0.2   c-0.1-0.2-0.2-0.4-0.2-0.5c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.1-0.3-0.1-0.3c0.1-0.1,0.2-0.3,0.2-0.4c0,0,0,0,0,0   c0.1,0,0.2,0,0.3-0.1l0.4-0.2c0.4-0.2,0.8-0.3,1.2-0.5c0.1,0,0.1-0.1,0.2-0.1c0.7-0.3,0.8-0.8,0.8-1.3c0-0.5,0-0.9,0-1.4   C-362.1,263.9-362.4,263.5-362.9,263.3z M-373.2,257.5c0.1-0.3,0.2-0.6,0.3-0.8c0.4,0,0.7,0,1.1,0c0.1,0.3,0.2,0.6,0.4,0.9l0.2-0.1   l0,0l-0.2,0.2c0.1,0.3,0.3,0.7,0.4,0.9c0.1,0.2,0.3,0.6,0.9,0.9c0.1,0,0.3,0.1,0.3,0.1c0.4,0.3,0.9,0.2,1.6,0   c0.5-0.2,1-0.5,1.6-0.7c0.1,0.1,0.2,0.2,0.4,0.4l0.2,0.2c0.1,0.1,0.1,0.1,0.2,0.2c0,0,0,0,0,0c-0.1,0.4-0.3,0.8-0.5,1.2l-0.2,0.6   c-0.2,0.4-0.2,0.8,0,1.2c0,0.1,0.1,0.1,0.1,0.2c0.1,0.2,0.2,0.4,0.3,0.7c0.2,0.3,0.5,0.4,0.8,0.5l0.1,0c0.5,0.2,1,0.4,1.6,0.6   c0,0.3,0,0.7,0,1l-0.2,0.1l0,0c-0.2,0.1-0.5,0.2-0.7,0.3l-0.6,0.2c0,0-0.1,0-0.1,0c-0.7,0.2-0.9,0.7-1,0.9c0,0.1,0,0.1-0.1,0.1   c-0.6,0.8-0.2,1.5,0,1.9c0,0,0,0.1,0.1,0.2c0.1,0.1,0.1,0.3,0.2,0.4l0.1,0.2c0.1,0.2,0.2,0.4,0.2,0.5c-0.2,0.2-0.4,0.4-0.6,0.6   c-0.1,0.1-0.1,0.1-0.2,0.2l-0.1,0c-0.1,0-0.3-0.1-0.4-0.1c-0.2-0.1-0.4-0.2-0.6-0.2l-1-0.4l-0.2-0.1l-0.1,0c-0.2,0-1.7,0.3-2,1   c0,0.1-0.1,0.4-0.3,0.8l0,0.1c-0.1,0.4-0.3,0.9-0.4,1.2c-0.4,0-0.8,0-1.2,0c-0.1-0.3-0.3-0.7-0.4-1.1c-0.1-0.3-0.2-0.5-0.3-0.7   c-0.2-0.6-0.7-0.8-1-0.9c-0.2-0.1-0.4-0.2-0.7-0.3c-0.3-0.1-0.6-0.1-0.8,0c-0.4,0.2-0.9,0.4-1.3,0.6l-0.6,0.3   c-0.3-0.3-0.5-0.5-0.8-0.8c0.2-0.4,0.4-0.9,0.6-1.5l0.1-0.3c0.2-0.6,0-1.1-0.1-1.4l-0.1-0.1c-0.1-0.5-0.5-0.9-1.1-1.1   c-0.5-0.2-0.9-0.3-1.4-0.5l-0.2-0.1c0-0.2,0-0.5,0-0.7l0-0.4c0.6-0.2,1.2-0.5,1.7-0.7l0.2-0.1c0.1-0.1,0.4-0.2,0.5-0.5l0.1-0.2   c0.1-0.3,0.2-0.5,0.3-0.8c0.1-0.5,0-0.9-0.1-1c-0.2-0.6-0.5-1.2-0.7-1.7c0.3-0.3,0.5-0.5,0.8-0.8l1.1,0.4c0.3,0.1,0.6,0.2,0.9,0.3   c0.3,0.1,0.6,0.1,0.9,0c0.3-0.1,0.6-0.2,0.9-0.4c0.3-0.1,0.5-0.4,0.6-0.7C-373.6,258.6-373.4,258.1-373.2,257.5L-373.2,257.5z    M-373.4,257.4L-373.4,257.4L-373.4,257.4L-373.4,257.4z"/>
                                <Label Grid.Column="1" Content="Equipment Config" Style="{StaticResource HeaderLabelStyle}"/>
                            </Grid>
                        </Viewbox>
                        <Grid Grid.Row="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="1*"/>
                                <RowDefinition Height="1.5*"/>
                            </Grid.RowDefinitions>
                            <Viewbox Grid.Row="0" HorizontalAlignment="Left">
                                <Label Content="Select Device" Style="{StaticResource HeaderLabelStyle}"/>
                            </Viewbox>
                            <Grid Grid.Row="1" HorizontalAlignment="Stretch">
                                <ComboBox ItemsSource="{Binding AvailableFieldDevices}" Margin="10" SelectedValue="{Binding NewBatchDetails.FieldDeviceIdentifier}" SelectedValuePath="Key" DisplayMemberPath="Value">
                                    <i:Interaction.Triggers>
                                        <i:EventTrigger EventName="SelectionChanged">
                                            <i:InvokeCommandAction Command="{Binding UpdateSelectedFieldDeviceLabelCommand}" CommandParameter="{Binding NewBatchDetails.FieldDeviceIdentifier}"/>
                                            <i:InvokeCommandAction Command="{Binding UpdateConnectedHcForSelectedFieldDeviceCommand}" CommandParameter="{Binding NewBatchDetails.FieldDeviceIdentifier}"/>
                                            <i:InvokeCommandAction Command="{Binding UpdateConnectedStirrerForSelectedFieldDeviceCommand}" CommandParameter="{Binding NewBatchDetails.FieldDeviceIdentifier}"/>
                                        </i:EventTrigger>
                                    </i:Interaction.Triggers>
                                </ComboBox>
                            </Grid>
                        </Grid>
                        <Grid Grid.Row="2">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="1*"/>
                                <RowDefinition Height="1.5*"/>
                            </Grid.RowDefinitions>
                            <Viewbox Grid.Row="0" HorizontalAlignment="Left">
                                <Label Content="Select HC" Style="{StaticResource HeaderLabelStyle}"/>
                            </Viewbox>
                            <Grid Grid.Row="1" HorizontalAlignment="Stretch">
                                <TextBox IsReadOnly="True" Text="{Binding NewBatchDetails.HCIdentifier, UpdateSourceTrigger=PropertyChanged}" Style="{StaticResource UserInputTextBoxStyle}"/>
                            </Grid>
                        </Grid>
                        <Grid Grid.Row="3">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="1*"/>
                                <RowDefinition Height="1.5*"/>
                            </Grid.RowDefinitions>
                            <Viewbox Grid.Row="0" HorizontalAlignment="Left">
                                <Label Content="Select Stirrer" Style="{StaticResource HeaderLabelStyle}"/>
                            </Viewbox>
                            <Grid Grid.Row="1" HorizontalAlignment="Stretch">
                                <ComboBox SelectedValue="{Binding NewBatchDetails.StirrerIdentifier}" SelectedValuePath="Content">
                                    <!--<ComboBoxItem>Anchor</ComboBoxItem>
                                    <ComboBoxItem>Blade</ComboBoxItem>-->
                                    <ComboBoxItem>PBT</ComboBoxItem>
                                </ComboBox>
                            </Grid>
                        </Grid>
                        <Grid Grid.Row="4">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="1*"/>
                                <RowDefinition Height="1.5*"/>
                            </Grid.RowDefinitions>
                            <Grid Grid.Row="1" HorizontalAlignment="Stretch">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="1*"/>
                                    <ColumnDefinition Width="1*"/>
                                </Grid.ColumnDefinitions>
                                <Viewbox Grid.Column="0">
                                    <Label Content="Dosing Pump Usage" Style="{StaticResource HeaderLabelStyle}"/>
                                </Viewbox>
                                <RadioButton x:Name="DosingPumpRequired" Grid.Column="1" Content="Yes" Margin="10" Style="{StaticResource RadioButtonWithoutEllipse}">
                                    <i:Interaction.Triggers>
                                        <i:EventTrigger EventName="Checked">
                                            <i:InvokeCommandAction Command="{Binding SelectDosingPumpUsageCommand}" CommandParameter="{Binding ElementName=DosingPumpRequired, Path=Content}"/>
                                        </i:EventTrigger>
                                    </i:Interaction.Triggers>
                                </RadioButton>

                                <RadioButton x:Name="DosingPumpNotRequired" Grid.Column="2" Content="No" Margin="10" Style="{StaticResource RadioButtonWithoutEllipse}">
                                    <i:Interaction.Triggers>
                                        <i:EventTrigger EventName="Checked">
                                            <i:InvokeCommandAction Command="{Binding SelectDosingPumpUsageCommand}" CommandParameter="{Binding ElementName=DosingPumpNotRequired, Path=Content}"/>
                                        </i:EventTrigger>
                                    </i:Interaction.Triggers>
                                </RadioButton>
                            </Grid>
                        </Grid>
                    </Grid>
                    <Grid Grid.Row="1" Background="#272e3e" Margin="15" Visibility="Hidden">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="0.5*"/>
                            <RowDefinition Height="1*"/>
                            <RowDefinition Height="1*"/>
                        </Grid.RowDefinitions>
                        <Border Grid.Row="0">
                            <Border.Style>
                                <Style TargetType="Border">
                                    <Setter Property="BorderBrush" Value="#1a202c"/>
                                    <Setter Property="BorderThickness" Value="0,0,0,5"/>
                                    <Setter Property="Effect">
                                        <Setter.Value>
                                            <BlurEffect Radius="7.5"/>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Border.Style>
                        </Border>
                        <Viewbox Grid.Row="0" HorizontalAlignment="Left">
                            <Grid Margin="10,0,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <Path Grid.Column="0" Width="20" Height="20" Stretch="Fill" Fill="#32ccdf" Data="M-384.7,265.4l-2.7-4.7c-0.1-0.2-0.3-0.3-0.6-0.3h-5.4c-0.2,0-0.5,0.1-0.6,0.3l-2.7,4.7   c-0.1,0.2-0.1,0.5,0,0.7l2.7,4.7c0.1,0.2,0.3,0.3,0.6,0.3h5.4c0.2,0,0.5-0.1,0.6-0.3l2.7-4.7C-384.6,265.9-384.6,265.6-384.7,265.4   z M-386.1,265.8l-2.3,4h-4.6l-2.3-4l2.3-4h4.6L-386.1,265.8z M-377.3,266.6L-377.3,266.6c-0.1-0.2-0.3-0.3-0.6-0.3h-5.4c-0.2,0-0.5,0.1-0.6,0.3l-2.7,4.7   c-0.1,0.2-0.1,0.5,0,0.7l2.7,4.7c0.1,0.2,0.3,0.3,0.6,0.3h5.4c0.2,0,0.5-0.1,0.6-0.3l2.7-4.7c0.1-0.2,0.1-0.5,0-0.7L-377.3,266.6z    M-382.9,275.7l-2.3-4l2.3-4h4.6l2.3,4l-2.3,4H-382.9z M-383.9,264.9L-383.9,264.9c0.1,0.2,0.3,0.3,0.6,0.3h5.4c0.2,0,0.5-0.1,0.6-0.3l2.7-4.7c0.1-0.2,0.1-0.5,0-0.7   l-2.7-4.7c-0.1-0.2-0.3-0.3-0.6-0.3h-5.4c-0.2,0-0.5,0.1-0.6,0.3l-2.7,4.7c-0.1,0.2-0.1,0.5,0,0.7L-383.9,264.9z M-378.3,255.9   l2.3,4l-2.3,4h-4.6l-2.3-4l2.3-4H-378.3z"/>
                                <Label Grid.Column="1" Content="Reaction" Style="{StaticResource HeaderLabelStyle}"/>
                            </Grid>
                        </Viewbox>
                        <Grid Grid.Row="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="1*"/>
                                <RowDefinition Height="1.5*"/>
                            </Grid.RowDefinitions>
                            <Viewbox Grid.Row="0" HorizontalAlignment="Left">
                                <Label Content="Chemical Database" Style="{StaticResource HeaderLabelStyle}"/>
                            </Viewbox>
                            <Grid Grid.Row="1" HorizontalAlignment="Stretch">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="4*"/>
                                    <ColumnDefinition Width="1*"/>
                                </Grid.ColumnDefinitions>
                                <TextBox Grid.Column="0" Text="{Binding NewBatchDetails.ChemicalDatabaseIdentifier}" IsReadOnly="True" Background="#1a202c" Foreground="White" Margin="10" BorderThickness="0"/>
                                <Button Grid.Column="1" Margin="10" Content="Open DB" Command="{Binding OpenChemicalDatabaseCommand}" FontSize="{Binding RelativeSource={RelativeSource Self}, Path=ActualHeight, Converter={StaticResource FontSizeConverter}}" Style="{StaticResource CommandButtonStyle}"/>
                            </Grid>
                        </Grid>
                        <Grid Grid.Row="2">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="1*"/>
                                <ColumnDefinition Width="1*"/>
                            </Grid.ColumnDefinitions>
                            <Viewbox Grid.Column="0">
                                <Label Content="Image of Reaction" Margin="20" Style="{StaticResource HeaderLabelStyle}"/>
                            </Viewbox>
                            <Viewbox Grid.Column="1">
                                <Button Margin="15" Style="{StaticResource CommandButtonStyle}" Command="{Binding UploadReactionImageCommand}">
                                    <Grid Margin="5">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="0.1*"/>
                                            <ColumnDefinition Width="1*"/>
                                        </Grid.ColumnDefinitions>
                                        <Path Grid.Column="0" Fill="White" Height="20" Width="20" Stretch="Fill" Data="M-376.3,269c-0.1,0-0.1,0-0.2,0c0.1-0.4,0.2-0.9,0.2-1.3c0-3-2.4-5.3-5.3-5.3c-2.4,0-4.3,1.5-5.1,3.7  c0,0-0.2,0-0.3,0c-0.2,0-0.4,0-0.6,0c-0.9,0-1.7,0.2-2.5,0.6c-0.7,0.4-1.4,0.9-1.9,1.6c-1,1.4-1.5,3.2-0.9,4.9  c0.1,0.3,0.2,0.5,0.4,0.8c0.6,1.1,1.8,1.7,3,1.7c0.8,0,2.6,0,4.7,0v-3.1h-2l3.8-4.4l3.8,4.4h-2v3.1c2.2,0,4.2,0,4.9,0  c1.8,0,3.3-1.5,3.3-3.3C-373,270.5-374.5,269-376.3,269z"/>
                                        <Label Grid.Column="1" Content="Upload an image" Foreground="White"/>
                                    </Grid>
                                </Button>
                            </Viewbox>
                        </Grid>
                    </Grid>
                </Grid>
                <Grid Grid.Column="3">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="2*"/>
                        <RowDefinition Height="1.5*"/>
                        <RowDefinition Height="0.3*"/>
                        <RowDefinition Height="0.7*"/>
                    </Grid.RowDefinitions>
                    <Grid Grid.Row="0" Background="#272e3e" Margin="15">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="0.5*"/>
                            <RowDefinition Height="1*"/>
                            <RowDefinition Height="1*"/>
                            <RowDefinition Height="1*"/>
                        </Grid.RowDefinitions>
                        <Border Grid.Row="0">
                            <Border.Style>
                                <Style TargetType="Border">
                                    <Setter Property="BorderBrush" Value="#1a202c"/>
                                    <Setter Property="BorderThickness" Value="0,0,0,5"/>
                                    <Setter Property="Effect">
                                        <Setter.Value>
                                            <BlurEffect Radius="7.5"/>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Border.Style>
                        </Border>
                        <Viewbox Grid.Row="0" HorizontalAlignment="Left">
                            <Grid Margin="10,0,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <Path Grid.Column="0" Width="20" Height="20" Stretch="Fill" Fill="#32ccdf" Data="M-347.4,261.2v-2.9c0.7-0.3,1.2-1,1.2-1.7c0-1-0.8-1.9-1.9-1.9h-4.1c-1,0-1.9,0.8-1.9,1.9  c0,0.8,0.5,1.4,1.2,1.7v2.9c-3,1.1-5.1,3.8-5.1,6.9c0,4.1,3.5,7.4,7.8,7.4s7.8-3.3,7.8-7.4C-342.4,265-344.4,262.3-347.4,261.2z   M-348.2,257l-4.2,0c-0.2,0-0.4-0.2-0.4-0.4c0-0.3,0.2-0.4,0.4-0.4h4.1c0.3,0,0.4,0.2,0.4,0.4S-347.9,257-348.2,257z M-352.1,262.4  c0.3-0.1,0.5-0.4,0.5-0.7v-3.3h2.7v3.3c0,0.3,0.2,0.6,0.5,0.7c1.2,0.4,2.3,1.1,3.2,2h-10.1C-354.5,263.4-353.4,262.7-352.1,262.4z   M-343.8,268.1c0,3.3-2.9,6-6.4,6s-6.4-2.7-6.4-6c0-0.8,0.2-1.6,0.5-2.3h11.9C-344,266.5-343.8,267.3-343.8,268.1z"/>
                                <Label Grid.Column="1" Content="Experiment" Style="{StaticResource HeaderLabelStyle}"/>
                            </Grid>
                        </Viewbox>
                        <Grid Grid.Row="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="1*"/>
                                <RowDefinition Height="1.5*"/>
                            </Grid.RowDefinitions>
                            <Viewbox Grid.Row="0" HorizontalAlignment="Left">
                                <Label Content="Batch Name" Style="{StaticResource HeaderLabelStyle}"/>
                            </Viewbox>
                            <Grid Grid.Row="1" HorizontalAlignment="Stretch">
                                <TextBox Text="{Binding NewBatchDetails.Name, UpdateSourceTrigger=PropertyChanged}" MaxLength="15">
                                    <TextBox.Style>
                                        <Style TargetType="TextBox" BasedOn="{StaticResource UserInputTextBoxStyle}">
                                            <Style.Triggers>
                                                <Trigger Property="Text" Value="">
                                                    <Setter Property="BorderBrush" Value="Red"/>
                                                    <Setter Property="BorderThickness" Value="1"/>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBox.Style>
                                </TextBox>
                            </Grid>
                        </Grid>
                        <Grid Grid.Row="2" Margin="15">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="0.5*"/>
                                <ColumnDefinition Width="1*"/>
                                <ColumnDefinition Width="0.5*"/>
                                <ColumnDefinition Width="1*"/>
                            </Grid.ColumnDefinitions>
                            <Viewbox Grid.Column="0">
                                <Label Content="Number" Style="{StaticResource HeaderLabelStyle}"/>
                            </Viewbox>
                            <TextBox Grid.Column="1" Text="{Binding NewBatchDetails.Number, UpdateSourceTrigger=PropertyChanged}" MaxLength="10">
                                <TextBox.Style>
                                    <Style TargetType="TextBox" BasedOn="{StaticResource UserInputTextBoxStyle}">
                                        <Style.Triggers>
                                            <Trigger Property="Text" Value="">
                                                <Setter Property="BorderBrush" Value="Red"/>
                                                <Setter Property="BorderThickness" Value="1"/>
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBox.Style>
                            </TextBox>
                            <Viewbox Grid.Column="2">
                                <Label Content=" Steps " Style="{StaticResource HeaderLabelStyle}"/>
                            </Viewbox>
                            <TextBox Grid.Column="3" Text="{Binding NewBatchDetails.Stage, UpdateSourceTrigger=PropertyChanged}" MaxLength="10">
                                <TextBox.Style>
                                    <Style TargetType="TextBox" BasedOn="{StaticResource UserInputTextBoxStyle}">
                                        <Style.Triggers>
                                            <Trigger Property="Text" Value="">
                                                <Setter Property="BorderBrush" Value="Red"/>
                                                <Setter Property="BorderThickness" Value="1"/>
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBox.Style>
                            </TextBox>
                        </Grid>
                        <Grid Grid.Row="3">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="1*"/>
                                <RowDefinition Height="1.5*"/>
                            </Grid.RowDefinitions>
                            <Viewbox Grid.Row="0" HorizontalAlignment="Left">
                                <Label Content="Scientist" Style="{StaticResource HeaderLabelStyle}"/>
                            </Viewbox>
                            <Grid Grid.Row="1" HorizontalAlignment="Stretch">
                                <TextBox IsReadOnly="True" Text="{Binding NewBatchDetails.ScientistName, UpdateSourceTrigger=PropertyChanged}">
                                    <TextBox.Style>
                                        <Style TargetType="TextBox" BasedOn="{StaticResource UserInputTextBoxStyle}">
                                            <Style.Triggers>
                                                <Trigger Property="Text" Value="">
                                                    <Setter Property="BorderBrush" Value="Red"/>
                                                    <Setter Property="BorderThickness" Value="1"/>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBox.Style>
                                </TextBox>
                            </Grid>
                        </Grid>
                    </Grid>
                    <Grid Grid.Row="1" Background="#272e3e" Margin="15">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="0.5*"/>
                            <RowDefinition Height="2*"/>
                        </Grid.RowDefinitions>
                        <Border Grid.Row="0">
                            <Border.Style>
                                <Style TargetType="Border">
                                    <Setter Property="BorderBrush" Value="#1a202c"/>
                                    <Setter Property="BorderThickness" Value="0,0,0,5"/>
                                    <Setter Property="Effect">
                                        <Setter.Value>
                                            <BlurEffect Radius="7.5"/>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </Border.Style>
                        </Border>
                        <Viewbox Grid.Row="0" HorizontalAlignment="Left">
                            <Grid Margin="10,0,0,0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <Path Grid.Column="0" Width="20" Height="20" Stretch="Fill" Fill="#32ccdf" Data="M-326.2,254.6h-12.7c-2.2,0-3.9,1.8-3.9,3.9v7.1c0,2.2,1.8,3.9,3.9,3.9h3.4l1.9,2.9c0.2,0.4,0.7,0.6,1.1,0.6  c0.5,0,0.9-0.2,1.1-0.6l1.9-3h3.3c2.2,0,3.9-1.8,3.9-3.9v-7.1C-322.3,256.4-324.1,254.6-326.2,254.6z M-338.9,256.6h12.7  c1.1,0,1.9,0.9,1.9,1.9v7.1c0,1.1-0.9,1.9-1.9,1.9h-3.9c-0.3,0-0.7,0.2-0.8,0.5l-1.6,2.5l-1.6-2.6c-0.2-0.3-0.5-0.5-0.8-0.5h-3.9  c-1.1,0-1.9-0.9-1.9-1.9v-7.1C-340.9,257.4-340,256.6-338.9,256.6z"/>
                                <Label Grid.Column="1" Content="Comments" Style="{StaticResource HeaderLabelStyle}"/>
                            </Grid>
                        </Viewbox>
                        <Grid Grid.Row="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="1*"/>
                                <RowDefinition Height="4*"/>
                            </Grid.RowDefinitions>
                            <Viewbox Grid.Row="0" HorizontalAlignment="Left">
                                <Label Content="Your Comments Here" Style="{StaticResource HeaderLabelStyle}"/>
                            </Viewbox>
                            <TextBox Grid.Row="1" Text="{Binding NewBatchDetails.Comments, UpdateSourceTrigger=PropertyChanged}" VerticalContentAlignment="Top" FontSize="17" TextWrapping="Wrap">
                                <TextBox.Style>
                                    <Style TargetType="TextBox" BasedOn="{StaticResource UserInputTextBoxStyle}">
                                        <Style.Triggers>
                                            <Trigger Property="Text" Value="">
                                                <Setter Property="BorderBrush" Value="Red"/>
                                                <Setter Property="BorderThickness" Value="1"/>
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBox.Style>
                                <TextBox.Template>
                                    <ControlTemplate TargetType="{x:Type TextBox}">
                                        <Grid>
                                            <TextBox MaxLength="50" Text="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Text, UpdateSourceTrigger=PropertyChanged}" FontSize="{TemplateBinding FontSize}" VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}" TextWrapping="{TemplateBinding TextWrapping}" Margin="0" BorderThickness="{TemplateBinding BorderThickness}" BorderBrush="{TemplateBinding BorderBrush}" Background="#1a202c" Foreground="White"/>
                                            <Path Fill="#8e94a1" Stretch="Fill" Height="15" Width="15" Margin="5" HorizontalAlignment="Right" VerticalAlignment="Bottom" Data="M-247.4,182.2c0.2,0.2,0.5,0.2,0.7,0l3.3-3.3c0.2-0.2,0.2-0.5,0-0.7c-0.2-0.2-0.5-0.2-0.7,0l-3.3,3.3  C-247.6,181.7-247.6,182-247.4,182.2z M-250.2,181.7c0.2,0.2,0.5,0.2,0.7,0l5.6-5.6c0.2-0.2,0.2-0.5,0-0.7c-0.2-0.2-0.5-0.2-0.7,0l-5.6,5.6  C-250.4,181.2-250.4,181.5-250.2,181.7z M-253.1,181.2c0.2,0.2,0.5,0.2,0.7,0l8-8c0.2-0.2,0.2-0.5,0-0.7c-0.2-0.2-0.5-0.2-0.7,0l-8,8  C-253.3,180.7-253.3,181-253.1,181.2z" />
                                        </Grid>
                                    </ControlTemplate>
                                </TextBox.Template>
                            </TextBox>
                        </Grid>
                    </Grid>
                    <Grid Grid.Row="2">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <Viewbox Grid.Column="1">
                            <Button Content="Start Batch" Command="{Binding StartBatchCommand}" Style="{StaticResource CommandButtonStyle}"/>
                        </Viewbox>
                    </Grid>
                </Grid>
            </Grid>
        </Grid>
    </Grid>
</UserControl>
